\hypertarget{group__spi}{\section{S\-P\-I Driver}
\label{group__spi}\index{S\-P\-I Driver@{S\-P\-I Driver}}
}


S\-P\-I Library for A\-V\-Rs built-\/in S\-P\-I Hardware.  


\subsection*{Files}
\begin{DoxyCompactItemize}
\item 
file \hyperlink{spi_8h}{spi.\-h}
\begin{DoxyCompactList}\small\item\em S\-P\-I A\-P\-I Header. \end{DoxyCompactList}\item 
file \hyperlink{spi_8c}{spi.\-c}
\begin{DoxyCompactList}\small\item\em S\-P\-I A\-P\-I Implementation. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{group__spi_gae506139af46f1328f631ddacd54af96d}{S\-P\-I\-\_\-\-M\-O\-D\-E} \{ \hyperlink{group__spi_ggae506139af46f1328f631ddacd54af96da68ae6cc4ed3f27fe8040eb93d9c4efa3}{M\-O\-D\-E\-\_\-0} = 0, 
\hyperlink{group__spi_ggae506139af46f1328f631ddacd54af96daf25f6bda513005f645d3626d9391f8cc}{M\-O\-D\-E\-\_\-1} = 1, 
\hyperlink{group__spi_ggae506139af46f1328f631ddacd54af96da0a36399f2feba688abe010c193b8a5f1}{M\-O\-D\-E\-\_\-2} = 2, 
\hyperlink{group__spi_ggae506139af46f1328f631ddacd54af96dad94e70da03012c70efde66c9136b0981}{M\-O\-D\-E\-\_\-3} = 3
 \}
\begin{DoxyCompactList}\small\item\em S\-P\-I Mode option. \end{DoxyCompactList}\item 
enum \hyperlink{group__spi_ga92b13fd51af2a9a09b1854520a5a427f}{S\-P\-I\-\_\-\-S\-P\-E\-E\-D} \{ \\*
\hyperlink{group__spi_gga92b13fd51af2a9a09b1854520a5a427fa3e1a04cc2aad70558b57122e6b70f8b6}{S\-P\-E\-E\-D\-\_\-2} = 4, 
\hyperlink{group__spi_gga92b13fd51af2a9a09b1854520a5a427fae11af3cd43c20a2067c8656e851f5898}{S\-P\-E\-E\-D\-\_\-4} = 0, 
\hyperlink{group__spi_gga92b13fd51af2a9a09b1854520a5a427faa29ab48ff495c06b667f4a9a619b2296}{S\-P\-E\-E\-D\-\_\-8} = 5, 
\hyperlink{group__spi_gga92b13fd51af2a9a09b1854520a5a427fa7eb7eef4c4f6e11040a40d1a34fa7ede}{S\-P\-E\-E\-D\-\_\-16} = 1, 
\\*
\hyperlink{group__spi_gga92b13fd51af2a9a09b1854520a5a427fac9ddd00c987ca0f77965762d7e73393d}{S\-P\-E\-E\-D\-\_\-32} = 6, 
\hyperlink{group__spi_gga92b13fd51af2a9a09b1854520a5a427faec264204118211e58417f9cb466dd609}{S\-P\-E\-E\-D\-\_\-64} = 2, 
\hyperlink{group__spi_gga92b13fd51af2a9a09b1854520a5a427faa0503562f9205b335a03f39c54ff529e}{S\-P\-E\-E\-D\-\_\-128} = 3
 \}
\begin{DoxyCompactList}\small\item\em S\-P\-I Speed options. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{group__spi_gab16bbe73b15109ae6ca700391711d036}{spi\-Init} (\hyperlink{group__spi_gae506139af46f1328f631ddacd54af96d}{S\-P\-I\-\_\-\-M\-O\-D\-E} mode, \hyperlink{group__spi_ga92b13fd51af2a9a09b1854520a5a427f}{S\-P\-I\-\_\-\-S\-P\-E\-E\-D} speed)
\begin{DoxyCompactList}\small\item\em Initialize the S\-P\-I Hardware Module. \end{DoxyCompactList}\item 
uint8\-\_\-t \hyperlink{group__spi_ga0ba99d77c04fac21eff9c6ee91b60d43}{spi\-Send\-Byte} (uint8\-\_\-t d)
\begin{DoxyCompactList}\small\item\em Send and Receive one byte. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
S\-P\-I Library for A\-V\-Rs built-\/in S\-P\-I Hardware. 

\subsection{Enumeration Type Documentation}
\hypertarget{group__spi_gae506139af46f1328f631ddacd54af96d}{\index{S\-P\-I Driver@{S\-P\-I Driver}!S\-P\-I\-\_\-\-M\-O\-D\-E@{S\-P\-I\-\_\-\-M\-O\-D\-E}}
\index{S\-P\-I\-\_\-\-M\-O\-D\-E@{S\-P\-I\-\_\-\-M\-O\-D\-E}!SPI Driver@{S\-P\-I Driver}}
\subsubsection[{S\-P\-I\-\_\-\-M\-O\-D\-E}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf S\-P\-I\-\_\-\-M\-O\-D\-E}}}\label{group__spi_gae506139af46f1328f631ddacd54af96d}


S\-P\-I Mode option. 

\begin{Desc}
\item[Enumerator]\par
\begin{description}
\index{M\-O\-D\-E\-\_\-0@{M\-O\-D\-E\-\_\-0}!S\-P\-I Driver@{S\-P\-I Driver}}\index{S\-P\-I Driver@{S\-P\-I Driver}!M\-O\-D\-E\-\_\-0@{M\-O\-D\-E\-\_\-0}}\item[{\em 
\hypertarget{group__spi_ggae506139af46f1328f631ddacd54af96da68ae6cc4ed3f27fe8040eb93d9c4efa3}{M\-O\-D\-E\-\_\-0}\label{group__spi_ggae506139af46f1328f631ddacd54af96da68ae6cc4ed3f27fe8040eb93d9c4efa3}
}]C\-P\-O\-L 0, C\-P\-H\-A 0. \index{M\-O\-D\-E\-\_\-1@{M\-O\-D\-E\-\_\-1}!S\-P\-I Driver@{S\-P\-I Driver}}\index{S\-P\-I Driver@{S\-P\-I Driver}!M\-O\-D\-E\-\_\-1@{M\-O\-D\-E\-\_\-1}}\item[{\em 
\hypertarget{group__spi_ggae506139af46f1328f631ddacd54af96daf25f6bda513005f645d3626d9391f8cc}{M\-O\-D\-E\-\_\-1}\label{group__spi_ggae506139af46f1328f631ddacd54af96daf25f6bda513005f645d3626d9391f8cc}
}]C\-P\-O\-L 0, C\-P\-H\-A 1. \index{M\-O\-D\-E\-\_\-2@{M\-O\-D\-E\-\_\-2}!S\-P\-I Driver@{S\-P\-I Driver}}\index{S\-P\-I Driver@{S\-P\-I Driver}!M\-O\-D\-E\-\_\-2@{M\-O\-D\-E\-\_\-2}}\item[{\em 
\hypertarget{group__spi_ggae506139af46f1328f631ddacd54af96da0a36399f2feba688abe010c193b8a5f1}{M\-O\-D\-E\-\_\-2}\label{group__spi_ggae506139af46f1328f631ddacd54af96da0a36399f2feba688abe010c193b8a5f1}
}]C\-P\-O\-L 1, C\-P\-H\-A 0. \index{M\-O\-D\-E\-\_\-3@{M\-O\-D\-E\-\_\-3}!S\-P\-I Driver@{S\-P\-I Driver}}\index{S\-P\-I Driver@{S\-P\-I Driver}!M\-O\-D\-E\-\_\-3@{M\-O\-D\-E\-\_\-3}}\item[{\em 
\hypertarget{group__spi_ggae506139af46f1328f631ddacd54af96dad94e70da03012c70efde66c9136b0981}{M\-O\-D\-E\-\_\-3}\label{group__spi_ggae506139af46f1328f631ddacd54af96dad94e70da03012c70efde66c9136b0981}
}]C\-P\-O\-L 1, C\-P\-H\-A 1. \end{description}
\end{Desc}


Definition at line 44 of file spi.\-h.


\begin{DoxyCode}
44              \{
45     \hyperlink{group__spi_ggae506139af46f1328f631ddacd54af96da68ae6cc4ed3f27fe8040eb93d9c4efa3}{MODE\_0} = 0, 
46     \hyperlink{group__spi_ggae506139af46f1328f631ddacd54af96daf25f6bda513005f645d3626d9391f8cc}{MODE\_1} = 1, 
47     \hyperlink{group__spi_ggae506139af46f1328f631ddacd54af96da0a36399f2feba688abe010c193b8a5f1}{MODE\_2} = 2, 
48     \hyperlink{group__spi_ggae506139af46f1328f631ddacd54af96dad94e70da03012c70efde66c9136b0981}{MODE\_3} = 3, 
49 \} \hyperlink{group__spi_gae506139af46f1328f631ddacd54af96d}{SPI\_MODE};
\end{DoxyCode}
\hypertarget{group__spi_ga92b13fd51af2a9a09b1854520a5a427f}{\index{S\-P\-I Driver@{S\-P\-I Driver}!S\-P\-I\-\_\-\-S\-P\-E\-E\-D@{S\-P\-I\-\_\-\-S\-P\-E\-E\-D}}
\index{S\-P\-I\-\_\-\-S\-P\-E\-E\-D@{S\-P\-I\-\_\-\-S\-P\-E\-E\-D}!SPI Driver@{S\-P\-I Driver}}
\subsubsection[{S\-P\-I\-\_\-\-S\-P\-E\-E\-D}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf S\-P\-I\-\_\-\-S\-P\-E\-E\-D}}}\label{group__spi_ga92b13fd51af2a9a09b1854520a5a427f}


S\-P\-I Speed options. 

\begin{Desc}
\item[Enumerator]\par
\begin{description}
\index{S\-P\-E\-E\-D\-\_\-2@{S\-P\-E\-E\-D\-\_\-2}!S\-P\-I Driver@{S\-P\-I Driver}}\index{S\-P\-I Driver@{S\-P\-I Driver}!S\-P\-E\-E\-D\-\_\-2@{S\-P\-E\-E\-D\-\_\-2}}\item[{\em 
\hypertarget{group__spi_gga92b13fd51af2a9a09b1854520a5a427fa3e1a04cc2aad70558b57122e6b70f8b6}{S\-P\-E\-E\-D\-\_\-2}\label{group__spi_gga92b13fd51af2a9a09b1854520a5a427fa3e1a04cc2aad70558b57122e6b70f8b6}
}]F\-\_\-\-C\-P\-U / 2. \index{S\-P\-E\-E\-D\-\_\-4@{S\-P\-E\-E\-D\-\_\-4}!S\-P\-I Driver@{S\-P\-I Driver}}\index{S\-P\-I Driver@{S\-P\-I Driver}!S\-P\-E\-E\-D\-\_\-4@{S\-P\-E\-E\-D\-\_\-4}}\item[{\em 
\hypertarget{group__spi_gga92b13fd51af2a9a09b1854520a5a427fae11af3cd43c20a2067c8656e851f5898}{S\-P\-E\-E\-D\-\_\-4}\label{group__spi_gga92b13fd51af2a9a09b1854520a5a427fae11af3cd43c20a2067c8656e851f5898}
}]F\-\_\-\-C\-P\-U / 4. \index{S\-P\-E\-E\-D\-\_\-8@{S\-P\-E\-E\-D\-\_\-8}!S\-P\-I Driver@{S\-P\-I Driver}}\index{S\-P\-I Driver@{S\-P\-I Driver}!S\-P\-E\-E\-D\-\_\-8@{S\-P\-E\-E\-D\-\_\-8}}\item[{\em 
\hypertarget{group__spi_gga92b13fd51af2a9a09b1854520a5a427faa29ab48ff495c06b667f4a9a619b2296}{S\-P\-E\-E\-D\-\_\-8}\label{group__spi_gga92b13fd51af2a9a09b1854520a5a427faa29ab48ff495c06b667f4a9a619b2296}
}]F\-\_\-\-C\-P\-U / 8. \index{S\-P\-E\-E\-D\-\_\-16@{S\-P\-E\-E\-D\-\_\-16}!S\-P\-I Driver@{S\-P\-I Driver}}\index{S\-P\-I Driver@{S\-P\-I Driver}!S\-P\-E\-E\-D\-\_\-16@{S\-P\-E\-E\-D\-\_\-16}}\item[{\em 
\hypertarget{group__spi_gga92b13fd51af2a9a09b1854520a5a427fa7eb7eef4c4f6e11040a40d1a34fa7ede}{S\-P\-E\-E\-D\-\_\-16}\label{group__spi_gga92b13fd51af2a9a09b1854520a5a427fa7eb7eef4c4f6e11040a40d1a34fa7ede}
}]F\-\_\-\-C\-P\-U / 16. \index{S\-P\-E\-E\-D\-\_\-32@{S\-P\-E\-E\-D\-\_\-32}!S\-P\-I Driver@{S\-P\-I Driver}}\index{S\-P\-I Driver@{S\-P\-I Driver}!S\-P\-E\-E\-D\-\_\-32@{S\-P\-E\-E\-D\-\_\-32}}\item[{\em 
\hypertarget{group__spi_gga92b13fd51af2a9a09b1854520a5a427fac9ddd00c987ca0f77965762d7e73393d}{S\-P\-E\-E\-D\-\_\-32}\label{group__spi_gga92b13fd51af2a9a09b1854520a5a427fac9ddd00c987ca0f77965762d7e73393d}
}]F\-\_\-\-C\-P\-U / 32. \index{S\-P\-E\-E\-D\-\_\-64@{S\-P\-E\-E\-D\-\_\-64}!S\-P\-I Driver@{S\-P\-I Driver}}\index{S\-P\-I Driver@{S\-P\-I Driver}!S\-P\-E\-E\-D\-\_\-64@{S\-P\-E\-E\-D\-\_\-64}}\item[{\em 
\hypertarget{group__spi_gga92b13fd51af2a9a09b1854520a5a427faec264204118211e58417f9cb466dd609}{S\-P\-E\-E\-D\-\_\-64}\label{group__spi_gga92b13fd51af2a9a09b1854520a5a427faec264204118211e58417f9cb466dd609}
}]F\-\_\-\-C\-P\-U / 64. \index{S\-P\-E\-E\-D\-\_\-128@{S\-P\-E\-E\-D\-\_\-128}!S\-P\-I Driver@{S\-P\-I Driver}}\index{S\-P\-I Driver@{S\-P\-I Driver}!S\-P\-E\-E\-D\-\_\-128@{S\-P\-E\-E\-D\-\_\-128}}\item[{\em 
\hypertarget{group__spi_gga92b13fd51af2a9a09b1854520a5a427faa0503562f9205b335a03f39c54ff529e}{S\-P\-E\-E\-D\-\_\-128}\label{group__spi_gga92b13fd51af2a9a09b1854520a5a427faa0503562f9205b335a03f39c54ff529e}
}]F\-\_\-\-C\-P\-U / 128. \end{description}
\end{Desc}


Definition at line 52 of file spi.\-h.


\begin{DoxyCode}
52              \{
53     \hyperlink{group__spi_gga92b13fd51af2a9a09b1854520a5a427fa3e1a04cc2aad70558b57122e6b70f8b6}{SPEED\_2} = 4, 
54     \hyperlink{group__spi_gga92b13fd51af2a9a09b1854520a5a427fae11af3cd43c20a2067c8656e851f5898}{SPEED\_4} = 0, 
55     \hyperlink{group__spi_gga92b13fd51af2a9a09b1854520a5a427faa29ab48ff495c06b667f4a9a619b2296}{SPEED\_8} = 5, 
56     \hyperlink{group__spi_gga92b13fd51af2a9a09b1854520a5a427fa7eb7eef4c4f6e11040a40d1a34fa7ede}{SPEED\_16} = 1, 
57     \hyperlink{group__spi_gga92b13fd51af2a9a09b1854520a5a427fac9ddd00c987ca0f77965762d7e73393d}{SPEED\_32} = 6, 
58     \hyperlink{group__spi_gga92b13fd51af2a9a09b1854520a5a427faec264204118211e58417f9cb466dd609}{SPEED\_64} = 2, 
59     \hyperlink{group__spi_gga92b13fd51af2a9a09b1854520a5a427faa0503562f9205b335a03f39c54ff529e}{SPEED\_128} = 3, 
60 \} \hyperlink{group__spi_ga92b13fd51af2a9a09b1854520a5a427f}{SPI\_SPEED};
\end{DoxyCode}


\subsection{Function Documentation}
\hypertarget{group__spi_gab16bbe73b15109ae6ca700391711d036}{\index{S\-P\-I Driver@{S\-P\-I Driver}!spi\-Init@{spi\-Init}}
\index{spi\-Init@{spi\-Init}!SPI Driver@{S\-P\-I Driver}}
\subsubsection[{spi\-Init}]{\setlength{\rightskip}{0pt plus 5cm}void spi\-Init (
\begin{DoxyParamCaption}
\item[{{\bf S\-P\-I\-\_\-\-M\-O\-D\-E}}]{mode, }
\item[{{\bf S\-P\-I\-\_\-\-S\-P\-E\-E\-D}}]{speed}
\end{DoxyParamCaption}
)}}\label{group__spi_gab16bbe73b15109ae6ca700391711d036}


Initialize the S\-P\-I Hardware Module. 


\begin{DoxyParams}{Parameters}
{\em mode} & S\-P\-I Mode to use \\
\hline
{\em speed} & S\-P\-I Speed to use \\
\hline
\end{DoxyParams}


Referenced by xy\-Init().

\hypertarget{group__spi_ga0ba99d77c04fac21eff9c6ee91b60d43}{\index{S\-P\-I Driver@{S\-P\-I Driver}!spi\-Send\-Byte@{spi\-Send\-Byte}}
\index{spi\-Send\-Byte@{spi\-Send\-Byte}!SPI Driver@{S\-P\-I Driver}}
\subsubsection[{spi\-Send\-Byte}]{\setlength{\rightskip}{0pt plus 5cm}uint8\-\_\-t spi\-Send\-Byte (
\begin{DoxyParamCaption}
\item[{uint8\-\_\-t}]{d}
\end{DoxyParamCaption}
)}}\label{group__spi_ga0ba99d77c04fac21eff9c6ee91b60d43}


Send and Receive one byte. 

Set the Chip Select Lines yourself! 
\begin{DoxyParams}{Parameters}
{\em d} & Data to be sent \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Byte read from Bus 
\end{DoxyReturn}


Definition at line 54 of file spi.\-c.


\begin{DoxyCode}
54                                \{
55     SPDR = d;
56     \textcolor{keywordflow}{while} (!(SPSR & (1 << SPIF))); \textcolor{comment}{// Wait for transmission}
57     \textcolor{keywordflow}{return} SPDR;
58 \}
\end{DoxyCode}

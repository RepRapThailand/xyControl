\hypertarget{group__xycontrol}{\section{xy\-Control Hardware}
\label{group__xycontrol}\index{xy\-Control Hardware@{xy\-Control Hardware}}
}


Controls xy\-Control On-\/\-Board Hardware like L\-E\-Ds.  


\subsection*{Files}
\begin{DoxyCompactItemize}
\item 
file \hyperlink{xycontrol_8h}{xycontrol.\-h}
\begin{DoxyCompactList}\small\item\em xy\-Control A\-P\-I Header. \end{DoxyCompactList}\item 
file \hyperlink{xycontrol_8c}{xycontrol.\-c}
\begin{DoxyCompactList}\small\item\em xy\-Control A\-P\-I Implementation. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{struct_vector3f}{Vector3f}
\begin{DoxyCompactList}\small\item\em The global 3-\/\-Dimensional Floating Point Vector. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{group__xycontrol_gaadcb6002d2b42fdfe01490f730ab00a6}{L\-E\-D} \{ \\*
\hyperlink{group__xycontrol_ggaadcb6002d2b42fdfe01490f730ab00a6abd50485e17442a345888be61d2074c40}{L\-E\-D\-\_\-\-R\-E\-D0} = 0, 
\hyperlink{group__xycontrol_ggaadcb6002d2b42fdfe01490f730ab00a6af706e3dc22e0cbc5d3c38bb45ee35922}{L\-E\-D\-\_\-\-R\-E\-D1} = 1, 
\hyperlink{group__xycontrol_ggaadcb6002d2b42fdfe01490f730ab00a6a9360f305ce504b55ff68922bab599c38}{L\-E\-D\-\_\-\-G\-R\-E\-E\-N0} = 2, 
\hyperlink{group__xycontrol_ggaadcb6002d2b42fdfe01490f730ab00a6a213b05e94b12e0bcee53b6de3df294f8}{L\-E\-D\-\_\-\-G\-R\-E\-E\-N1} = 3, 
\\*
\hyperlink{group__xycontrol_ggaadcb6002d2b42fdfe01490f730ab00a6ae4fd580189cac85429ebfa5cb71cd772}{L\-E\-D\-\_\-\-A\-L\-L} = 4, 
\hyperlink{group__xycontrol_ggaadcb6002d2b42fdfe01490f730ab00a6a2a797d26a32fb3bdc0f975e6955e2873}{L\-E\-D\-\_\-\-B\-I\-T\-M\-A\-P} = 5, 
\hyperlink{group__xycontrol_ggaadcb6002d2b42fdfe01490f730ab00a6ad80f13022b6d309268fadc7b1da89cb9}{L\-E\-D\-\_\-\-R\-E\-D} = 6, 
\hyperlink{group__xycontrol_ggaadcb6002d2b42fdfe01490f730ab00a6a0ad916c7f80666dc88f6b5b22a72e742}{L\-E\-D\-\_\-\-G\-R\-E\-E\-N} = 7
 \}
\begin{DoxyCompactList}\small\item\em Methods of addressing the L\-E\-Ds. \end{DoxyCompactList}\item 
enum \hyperlink{group__xycontrol_ga51a69e0b98357e170e63bc843e2fd1c0}{L\-E\-D\-State} \{ \hyperlink{group__xycontrol_gga51a69e0b98357e170e63bc843e2fd1c0afc0ca8cc6cbe215fd3f1ae6d40255b40}{L\-E\-D\-\_\-\-O\-F\-F} = 0, 
\hyperlink{group__xycontrol_gga51a69e0b98357e170e63bc843e2fd1c0add01b80eb93658fb4cf7eb9aceb89a1d}{L\-E\-D\-\_\-\-O\-N} = 1, 
\hyperlink{group__xycontrol_gga51a69e0b98357e170e63bc843e2fd1c0a1b3bca014fbbfe339c8e216d175bae2e}{L\-E\-D\-\_\-\-T\-O\-G\-G\-L\-E} = 2
 \}
\begin{DoxyCompactList}\small\item\em Possible states of the L\-E\-Ds. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{group__xycontrol_ga2b3fb0734a2675e6dbdcb2c7665a708f}{xy\-Init} (void)
\begin{DoxyCompactList}\small\item\em Initialize the xy\-Control Hardware. \end{DoxyCompactList}\item 
void \hyperlink{group__xycontrol_ga783aead7f97dd462a9af56b7fc3b228f}{xy\-Led} (\hyperlink{group__xycontrol_gaadcb6002d2b42fdfe01490f730ab00a6}{L\-E\-D} l, \hyperlink{group__xycontrol_ga51a69e0b98357e170e63bc843e2fd1c0}{L\-E\-D\-State} v)
\begin{DoxyCompactList}\small\item\em Set the L\-E\-Ds. \end{DoxyCompactList}\item 
double \hyperlink{group__xycontrol_ga97874cf2a7f8e6964188b54fe85084a6}{get\-Voltage} (void)
\begin{DoxyCompactList}\small\item\em Calculate and return the Battery Voltage. \end{DoxyCompactList}\item 
void \hyperlink{group__xycontrol_ga26f242fc9cc1fb7dfdb78daae5579a63}{xy\-Self\-Reset} (void)
\begin{DoxyCompactList}\small\item\em Use the Watchdog to reset yourself after 15ms. \end{DoxyCompactList}\item 
int64\-\_\-t \hyperlink{group__xycontrol_gabcbffb9fdac0122e1d64b53119d03c63}{map} (int64\-\_\-t value, int64\-\_\-t old\-Min, int64\-\_\-t old\-Max, int64\-\_\-t new\-Min, int64\-\_\-t new\-Max)
\begin{DoxyCompactList}\small\item\em Map an Integer from one range to another range. \end{DoxyCompactList}\item 
int \hyperlink{group__xycontrol_ga7e2be90354ccc3af05947764858bc0b1}{uartoutput} (char c, F\-I\-L\-E $\ast$f)
\begin{DoxyCompactList}\small\item\em Method used to write to stdout and stderr. \end{DoxyCompactList}\item 
int \hyperlink{group__xycontrol_ga3f158de66529c4606b8d8a380e5a5b07}{uartinput} (F\-I\-L\-E $\ast$f)
\begin{DoxyCompactList}\small\item\em Method used to read from stdin. \end{DoxyCompactList}\item 
void \hyperlink{group__xycontrol_ga8b94cac17e75735eec6f6fa42d21ab72}{xy\-Led\-Internal} (uint8\-\_\-t v, volatile uint8\-\_\-t $\ast$port, uint8\-\_\-t pin)
\begin{DoxyCompactList}\small\item\em Internal L\-E\-D Manipulation function. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
char P\-R\-O\-G\-M\-E\-M \hyperlink{group__xycontrol_gab29cf1c6b0f1a36311899902ec9364ea}{help\-Text} \mbox{[}$\,$\mbox{]} = \char`\"{}Print this Help\char`\"{}
\begin{DoxyCompactList}\small\item\em U\-A\-R\-T Menu Help Text. \end{DoxyCompactList}\item 
char P\-R\-O\-G\-M\-E\-M \hyperlink{group__xycontrol_ga27915b4caf41f74542980a4ea0f1726a}{reset\-Text} \mbox{[}$\,$\mbox{]} = \char`\"{}Reset M\-C\-U\char`\"{}
\begin{DoxyCompactList}\small\item\em U\-A\-R\-T Menu Reset Text. \end{DoxyCompactList}\item 
F\-I\-L\-E \hyperlink{group__xycontrol_gaad0ab56da43b41bbfeeaa3d1eca70e9c}{in\-File}
\begin{DoxyCompactList}\small\item\em F\-I\-L\-E for stdin. \end{DoxyCompactList}\item 
F\-I\-L\-E \hyperlink{group__xycontrol_gaa9e0cac6f45e381f488c1dd9a8418ca2}{out\-File}
\begin{DoxyCompactList}\small\item\em F\-I\-L\-E for stdout and stderr. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Controls xy\-Control On-\/\-Board Hardware like L\-E\-Ds. 

\subsection{Enumeration Type Documentation}
\hypertarget{group__xycontrol_gaadcb6002d2b42fdfe01490f730ab00a6}{\index{xy\-Control Hardware@{xy\-Control Hardware}!L\-E\-D@{L\-E\-D}}
\index{L\-E\-D@{L\-E\-D}!xyControl Hardware@{xy\-Control Hardware}}
\subsubsection[{L\-E\-D}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf L\-E\-D}}}\label{group__xycontrol_gaadcb6002d2b42fdfe01490f730ab00a6}


Methods of addressing the L\-E\-Ds. 

\begin{Desc}
\item[Enumerator]\par
\begin{description}
\index{L\-E\-D\-\_\-\-R\-E\-D0@{L\-E\-D\-\_\-\-R\-E\-D0}!xy\-Control Hardware@{xy\-Control Hardware}}\index{xy\-Control Hardware@{xy\-Control Hardware}!L\-E\-D\-\_\-\-R\-E\-D0@{L\-E\-D\-\_\-\-R\-E\-D0}}\item[{\em 
\hypertarget{group__xycontrol_ggaadcb6002d2b42fdfe01490f730ab00a6abd50485e17442a345888be61d2074c40}{L\-E\-D\-\_\-\-R\-E\-D0}\label{group__xycontrol_ggaadcb6002d2b42fdfe01490f730ab00a6abd50485e17442a345888be61d2074c40}
}]First red L\-E\-D. \index{L\-E\-D\-\_\-\-R\-E\-D1@{L\-E\-D\-\_\-\-R\-E\-D1}!xy\-Control Hardware@{xy\-Control Hardware}}\index{xy\-Control Hardware@{xy\-Control Hardware}!L\-E\-D\-\_\-\-R\-E\-D1@{L\-E\-D\-\_\-\-R\-E\-D1}}\item[{\em 
\hypertarget{group__xycontrol_ggaadcb6002d2b42fdfe01490f730ab00a6af706e3dc22e0cbc5d3c38bb45ee35922}{L\-E\-D\-\_\-\-R\-E\-D1}\label{group__xycontrol_ggaadcb6002d2b42fdfe01490f730ab00a6af706e3dc22e0cbc5d3c38bb45ee35922}
}]Second red L\-E\-D. \index{L\-E\-D\-\_\-\-G\-R\-E\-E\-N0@{L\-E\-D\-\_\-\-G\-R\-E\-E\-N0}!xy\-Control Hardware@{xy\-Control Hardware}}\index{xy\-Control Hardware@{xy\-Control Hardware}!L\-E\-D\-\_\-\-G\-R\-E\-E\-N0@{L\-E\-D\-\_\-\-G\-R\-E\-E\-N0}}\item[{\em 
\hypertarget{group__xycontrol_ggaadcb6002d2b42fdfe01490f730ab00a6a9360f305ce504b55ff68922bab599c38}{L\-E\-D\-\_\-\-G\-R\-E\-E\-N0}\label{group__xycontrol_ggaadcb6002d2b42fdfe01490f730ab00a6a9360f305ce504b55ff68922bab599c38}
}]First green L\-E\-D. \index{L\-E\-D\-\_\-\-G\-R\-E\-E\-N1@{L\-E\-D\-\_\-\-G\-R\-E\-E\-N1}!xy\-Control Hardware@{xy\-Control Hardware}}\index{xy\-Control Hardware@{xy\-Control Hardware}!L\-E\-D\-\_\-\-G\-R\-E\-E\-N1@{L\-E\-D\-\_\-\-G\-R\-E\-E\-N1}}\item[{\em 
\hypertarget{group__xycontrol_ggaadcb6002d2b42fdfe01490f730ab00a6a213b05e94b12e0bcee53b6de3df294f8}{L\-E\-D\-\_\-\-G\-R\-E\-E\-N1}\label{group__xycontrol_ggaadcb6002d2b42fdfe01490f730ab00a6a213b05e94b12e0bcee53b6de3df294f8}
}]Second green L\-E\-D. \index{L\-E\-D\-\_\-\-A\-L\-L@{L\-E\-D\-\_\-\-A\-L\-L}!xy\-Control Hardware@{xy\-Control Hardware}}\index{xy\-Control Hardware@{xy\-Control Hardware}!L\-E\-D\-\_\-\-A\-L\-L@{L\-E\-D\-\_\-\-A\-L\-L}}\item[{\em 
\hypertarget{group__xycontrol_ggaadcb6002d2b42fdfe01490f730ab00a6ae4fd580189cac85429ebfa5cb71cd772}{L\-E\-D\-\_\-\-A\-L\-L}\label{group__xycontrol_ggaadcb6002d2b42fdfe01490f730ab00a6ae4fd580189cac85429ebfa5cb71cd772}
}]All L\-E\-Ds. \index{L\-E\-D\-\_\-\-B\-I\-T\-M\-A\-P@{L\-E\-D\-\_\-\-B\-I\-T\-M\-A\-P}!xy\-Control Hardware@{xy\-Control Hardware}}\index{xy\-Control Hardware@{xy\-Control Hardware}!L\-E\-D\-\_\-\-B\-I\-T\-M\-A\-P@{L\-E\-D\-\_\-\-B\-I\-T\-M\-A\-P}}\item[{\em 
\hypertarget{group__xycontrol_ggaadcb6002d2b42fdfe01490f730ab00a6a2a797d26a32fb3bdc0f975e6955e2873}{L\-E\-D\-\_\-\-B\-I\-T\-M\-A\-P}\label{group__xycontrol_ggaadcb6002d2b42fdfe01490f730ab00a6a2a797d26a32fb3bdc0f975e6955e2873}
}]L\-E\-Ds as Bitmap (R0, R1, G0, G1) \index{L\-E\-D\-\_\-\-R\-E\-D@{L\-E\-D\-\_\-\-R\-E\-D}!xy\-Control Hardware@{xy\-Control Hardware}}\index{xy\-Control Hardware@{xy\-Control Hardware}!L\-E\-D\-\_\-\-R\-E\-D@{L\-E\-D\-\_\-\-R\-E\-D}}\item[{\em 
\hypertarget{group__xycontrol_ggaadcb6002d2b42fdfe01490f730ab00a6ad80f13022b6d309268fadc7b1da89cb9}{L\-E\-D\-\_\-\-R\-E\-D}\label{group__xycontrol_ggaadcb6002d2b42fdfe01490f730ab00a6ad80f13022b6d309268fadc7b1da89cb9}
}]Both red L\-E\-Ds. \index{L\-E\-D\-\_\-\-G\-R\-E\-E\-N@{L\-E\-D\-\_\-\-G\-R\-E\-E\-N}!xy\-Control Hardware@{xy\-Control Hardware}}\index{xy\-Control Hardware@{xy\-Control Hardware}!L\-E\-D\-\_\-\-G\-R\-E\-E\-N@{L\-E\-D\-\_\-\-G\-R\-E\-E\-N}}\item[{\em 
\hypertarget{group__xycontrol_ggaadcb6002d2b42fdfe01490f730ab00a6a0ad916c7f80666dc88f6b5b22a72e742}{L\-E\-D\-\_\-\-G\-R\-E\-E\-N}\label{group__xycontrol_ggaadcb6002d2b42fdfe01490f730ab00a6a0ad916c7f80666dc88f6b5b22a72e742}
}]Both green L\-E\-Ds. \end{description}
\end{Desc}


Definition at line 44 of file xycontrol.\-h.


\begin{DoxyCode}
44              \{
45     \hyperlink{group__xycontrol_ggaadcb6002d2b42fdfe01490f730ab00a6abd50485e17442a345888be61d2074c40}{LED\_RED0} = 0, 
46     \hyperlink{group__xycontrol_ggaadcb6002d2b42fdfe01490f730ab00a6af706e3dc22e0cbc5d3c38bb45ee35922}{LED\_RED1} = 1, 
47     \hyperlink{group__xycontrol_ggaadcb6002d2b42fdfe01490f730ab00a6a9360f305ce504b55ff68922bab599c38}{LED\_GREEN0} = 2, 
48     \hyperlink{group__xycontrol_ggaadcb6002d2b42fdfe01490f730ab00a6a213b05e94b12e0bcee53b6de3df294f8}{LED\_GREEN1} = 3, 
49     \hyperlink{group__xycontrol_ggaadcb6002d2b42fdfe01490f730ab00a6ae4fd580189cac85429ebfa5cb71cd772}{LED\_ALL} = 4, 
50     \hyperlink{group__xycontrol_ggaadcb6002d2b42fdfe01490f730ab00a6a2a797d26a32fb3bdc0f975e6955e2873}{LED\_BITMAP} = 5, 
51     \hyperlink{group__xycontrol_ggaadcb6002d2b42fdfe01490f730ab00a6ad80f13022b6d309268fadc7b1da89cb9}{LED\_RED} = 6, 
52     \hyperlink{group__xycontrol_ggaadcb6002d2b42fdfe01490f730ab00a6a0ad916c7f80666dc88f6b5b22a72e742}{LED\_GREEN} = 7 
53 \} \hyperlink{group__xycontrol_gaadcb6002d2b42fdfe01490f730ab00a6}{LED};
\end{DoxyCode}
\hypertarget{group__xycontrol_ga51a69e0b98357e170e63bc843e2fd1c0}{\index{xy\-Control Hardware@{xy\-Control Hardware}!L\-E\-D\-State@{L\-E\-D\-State}}
\index{L\-E\-D\-State@{L\-E\-D\-State}!xyControl Hardware@{xy\-Control Hardware}}
\subsubsection[{L\-E\-D\-State}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf L\-E\-D\-State}}}\label{group__xycontrol_ga51a69e0b98357e170e63bc843e2fd1c0}


Possible states of the L\-E\-Ds. 

\begin{Desc}
\item[Enumerator]\par
\begin{description}
\index{L\-E\-D\-\_\-\-O\-F\-F@{L\-E\-D\-\_\-\-O\-F\-F}!xy\-Control Hardware@{xy\-Control Hardware}}\index{xy\-Control Hardware@{xy\-Control Hardware}!L\-E\-D\-\_\-\-O\-F\-F@{L\-E\-D\-\_\-\-O\-F\-F}}\item[{\em 
\hypertarget{group__xycontrol_gga51a69e0b98357e170e63bc843e2fd1c0afc0ca8cc6cbe215fd3f1ae6d40255b40}{L\-E\-D\-\_\-\-O\-F\-F}\label{group__xycontrol_gga51a69e0b98357e170e63bc843e2fd1c0afc0ca8cc6cbe215fd3f1ae6d40255b40}
}]L\-E\-D Off. \index{L\-E\-D\-\_\-\-O\-N@{L\-E\-D\-\_\-\-O\-N}!xy\-Control Hardware@{xy\-Control Hardware}}\index{xy\-Control Hardware@{xy\-Control Hardware}!L\-E\-D\-\_\-\-O\-N@{L\-E\-D\-\_\-\-O\-N}}\item[{\em 
\hypertarget{group__xycontrol_gga51a69e0b98357e170e63bc843e2fd1c0add01b80eb93658fb4cf7eb9aceb89a1d}{L\-E\-D\-\_\-\-O\-N}\label{group__xycontrol_gga51a69e0b98357e170e63bc843e2fd1c0add01b80eb93658fb4cf7eb9aceb89a1d}
}]L\-E\-D On. \index{L\-E\-D\-\_\-\-T\-O\-G\-G\-L\-E@{L\-E\-D\-\_\-\-T\-O\-G\-G\-L\-E}!xy\-Control Hardware@{xy\-Control Hardware}}\index{xy\-Control Hardware@{xy\-Control Hardware}!L\-E\-D\-\_\-\-T\-O\-G\-G\-L\-E@{L\-E\-D\-\_\-\-T\-O\-G\-G\-L\-E}}\item[{\em 
\hypertarget{group__xycontrol_gga51a69e0b98357e170e63bc843e2fd1c0a1b3bca014fbbfe339c8e216d175bae2e}{L\-E\-D\-\_\-\-T\-O\-G\-G\-L\-E}\label{group__xycontrol_gga51a69e0b98357e170e63bc843e2fd1c0a1b3bca014fbbfe339c8e216d175bae2e}
}]Toggle the L\-E\-D. \end{description}
\end{Desc}


Definition at line 56 of file xycontrol.\-h.


\begin{DoxyCode}
56              \{
57     \hyperlink{group__xycontrol_gga51a69e0b98357e170e63bc843e2fd1c0afc0ca8cc6cbe215fd3f1ae6d40255b40}{LED\_OFF} = 0, 
58     \hyperlink{group__xycontrol_gga51a69e0b98357e170e63bc843e2fd1c0add01b80eb93658fb4cf7eb9aceb89a1d}{LED\_ON} = 1, 
59     \hyperlink{group__xycontrol_gga51a69e0b98357e170e63bc843e2fd1c0a1b3bca014fbbfe339c8e216d175bae2e}{LED\_TOGGLE} = 2 
60 \} \hyperlink{group__xycontrol_ga51a69e0b98357e170e63bc843e2fd1c0}{LEDState};
\end{DoxyCode}


\subsection{Function Documentation}
\hypertarget{group__xycontrol_ga97874cf2a7f8e6964188b54fe85084a6}{\index{xy\-Control Hardware@{xy\-Control Hardware}!get\-Voltage@{get\-Voltage}}
\index{get\-Voltage@{get\-Voltage}!xyControl Hardware@{xy\-Control Hardware}}
\subsubsection[{get\-Voltage}]{\setlength{\rightskip}{0pt plus 5cm}double get\-Voltage (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{group__xycontrol_ga97874cf2a7f8e6964188b54fe85084a6}


Calculate and return the Battery Voltage. 

\begin{DoxyReturn}{Returns}
Current Battery Voltage 
\end{DoxyReturn}
\begin{Desc}
\item[Examples\-: ]\par
\hyperlink{hardware_test_8c-example}{hardware\-Test.\-c}, and \hyperlink{uart_flight_8c-example}{uart\-Flight.\-c}.\end{Desc}


Definition at line 172 of file xycontrol.\-c.



References adc\-Get(), adc\-Ready(), adc\-Start(), B\-A\-T\-T\-\_\-\-C\-H\-A\-N\-N\-E\-L, and B\-A\-T\-T\-\_\-\-M\-A\-X.


\begin{DoxyCode}
172                         \{
173     \hyperlink{group__adc_ga709f0e604f22040ae61dc7710f0adee5}{adcStart}(\hyperlink{group__config_ga9fd748b19523c96052a2964d73a7b0f5}{BATT\_CHANNEL});
174     \textcolor{keywordflow}{while}(!\hyperlink{group__adc_gaf80150a2f4a38efa40fe1c314b6995ef}{adcReady}());
175     uint16\_t v = \hyperlink{group__adc_ga50d95c156a0eaea87bd65f5abfc1b5cb}{adcGet}(0) * \hyperlink{group__config_gac873c87f494ea2b22e7eb5fc74ad5a82}{BATT\_MAX};
176     \textcolor{keywordflow}{return} ((\textcolor{keywordtype}{double})v / 1024.0);
177 \}
\end{DoxyCode}
\hypertarget{group__xycontrol_gabcbffb9fdac0122e1d64b53119d03c63}{\index{xy\-Control Hardware@{xy\-Control Hardware}!map@{map}}
\index{map@{map}!xyControl Hardware@{xy\-Control Hardware}}
\subsubsection[{map}]{\setlength{\rightskip}{0pt plus 5cm}int64\-\_\-t map (
\begin{DoxyParamCaption}
\item[{int64\-\_\-t}]{value, }
\item[{int64\-\_\-t}]{old\-Min, }
\item[{int64\-\_\-t}]{old\-Max, }
\item[{int64\-\_\-t}]{new\-Min, }
\item[{int64\-\_\-t}]{new\-Max}
\end{DoxyParamCaption}
)}}\label{group__xycontrol_gabcbffb9fdac0122e1d64b53119d03c63}


Map an Integer from one range to another range. 


\begin{DoxyParams}{Parameters}
{\em value} & Integer to operate on \\
\hline
{\em old\-Min} & Lower Limit of Input range \\
\hline
{\em old\-Max} & Upper Limit of Input range \\
\hline
{\em new\-Min} & Lower Limit of Output range \\
\hline
{\em new\-Max} & Upper Limit of Output range \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Value in new range 
\end{DoxyReturn}


Definition at line 184 of file xycontrol.\-c.


\begin{DoxyCode}
184                                                                                            \{
185     \textcolor{keywordflow}{return} (value - oldMin) * (newMax - newMin) / (oldMax - oldMin) + newMin;
186 \}
\end{DoxyCode}
\hypertarget{group__xycontrol_ga3f158de66529c4606b8d8a380e5a5b07}{\index{xy\-Control Hardware@{xy\-Control Hardware}!uartinput@{uartinput}}
\index{uartinput@{uartinput}!xyControl Hardware@{xy\-Control Hardware}}
\subsubsection[{uartinput}]{\setlength{\rightskip}{0pt plus 5cm}int uartinput (
\begin{DoxyParamCaption}
\item[{F\-I\-L\-E $\ast$}]{f}
\end{DoxyParamCaption}
)}}\label{group__xycontrol_ga3f158de66529c4606b8d8a380e5a5b07}


Method used to read from stdin. 



Definition at line 81 of file xycontrol.\-c.



References serial\-Available(), serial\-Get(), and serial\-Has\-Char().



Referenced by xy\-Init().


\begin{DoxyCode}
81                        \{
82     \textcolor{keywordflow}{for} (;;) \{
83         \textcolor{keywordflow}{for} (uint8\_t i = 0; i < \hyperlink{group__uart_ga1ea963b291215ad9c5e8a0610f116b90}{serialAvailable}(); i++) \{
84             \textcolor{keywordflow}{if} (\hyperlink{group__uart_ga266a54dcf3c4b85d92bf6b16bdcb5069}{serialHasChar}(i)) \{
85                 \textcolor{keywordflow}{return} \hyperlink{group__uart_gaa9d6e44600b215154c3f66193df151f6}{serialGet}(i);
86             \}
87         \}
88     \}
89 \}
\end{DoxyCode}
\hypertarget{group__xycontrol_ga7e2be90354ccc3af05947764858bc0b1}{\index{xy\-Control Hardware@{xy\-Control Hardware}!uartoutput@{uartoutput}}
\index{uartoutput@{uartoutput}!xyControl Hardware@{xy\-Control Hardware}}
\subsubsection[{uartoutput}]{\setlength{\rightskip}{0pt plus 5cm}int uartoutput (
\begin{DoxyParamCaption}
\item[{char}]{c, }
\item[{F\-I\-L\-E $\ast$}]{f}
\end{DoxyParamCaption}
)}}\label{group__xycontrol_ga7e2be90354ccc3af05947764858bc0b1}


Method used to write to stdout and stderr. 



Definition at line 66 of file xycontrol.\-c.



References serial\-Available(), and serial\-Write().



Referenced by xy\-Init().


\begin{DoxyCode}
66                                 \{
67     \textcolor{comment}{// Inject CR here, instead of in the serial library,}
68     \textcolor{comment}{// so we can still do binary transfers with serialWrite()...}
69     \textcolor{keywordflow}{if} (c == \textcolor{charliteral}{'\(\backslash\)n'}) \{
70         \textcolor{keywordflow}{for} (uint8\_t i = 0; i < \hyperlink{group__uart_ga1ea963b291215ad9c5e8a0610f116b90}{serialAvailable}(); i++)
71             \hyperlink{group__uart_ga388583adaa7db4fad121b6454668b347}{serialWrite}(i, \textcolor{charliteral}{'\(\backslash\)r'});
72     \}
73     \textcolor{keywordflow}{if} (c != \textcolor{charliteral}{'\(\backslash\)r'}) \{
74         \textcolor{keywordflow}{for} (uint8\_t i = 0; i < \hyperlink{group__uart_ga1ea963b291215ad9c5e8a0610f116b90}{serialAvailable}(); i++)
75             \hyperlink{group__uart_ga388583adaa7db4fad121b6454668b347}{serialWrite}(i, c);
76     \}
77     \textcolor{keywordflow}{return} 0;
78 \}
\end{DoxyCode}
\hypertarget{group__xycontrol_ga2b3fb0734a2675e6dbdcb2c7665a708f}{\index{xy\-Control Hardware@{xy\-Control Hardware}!xy\-Init@{xy\-Init}}
\index{xy\-Init@{xy\-Init}!xyControl Hardware@{xy\-Control Hardware}}
\subsubsection[{xy\-Init}]{\setlength{\rightskip}{0pt plus 5cm}void xy\-Init (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{group__xycontrol_ga2b3fb0734a2675e6dbdcb2c7665a708f}


Initialize the xy\-Control Hardware. 

Initializes L\-E\-Ds, Timer, U\-A\-R\-T, I2\-C, S\-P\-I, A\-D\-C, the U\-A\-R\-T Menu and prepares stdin and stdout. \begin{Desc}
\item[Examples\-: ]\par
\hyperlink{hardware_test_8c-example}{hardware\-Test.\-c}, \hyperlink{test_8c-example}{test.\-c}, and \hyperlink{uart_flight_8c-example}{uart\-Flight.\-c}.\end{Desc}


Definition at line 91 of file xycontrol.\-c.



References adc\-Init(), add\-Menu\-Command(), add\-Task(), A\-V\-C\-C, B\-A\-U\-D, help\-Text, in\-File, init\-System\-Timer(), L\-E\-D0\-D\-D\-R, L\-E\-D0\-P\-I\-N, L\-E\-D1\-D\-D\-R, L\-E\-D1\-P\-I\-N, L\-E\-D2\-D\-D\-R, L\-E\-D2\-P\-I\-N, L\-E\-D3\-D\-D\-R, L\-E\-D3\-P\-I\-N, M\-O\-D\-E\-\_\-0, out\-File, reset\-Text, serial\-Available(), serial\-Init(), S\-P\-E\-E\-D\-\_\-2, spi\-Init(), twi\-Init(), uartinput(), uart\-Menu\-Print\-Help(), uart\-Menu\-Task(), uartoutput(), xmem\-Init(), xy\-Led(), and xy\-Self\-Reset().


\begin{DoxyCode}
91                   \{
92     \hyperlink{group__xmem_ga9744de3b2aca21a564b151e770ed7384}{xmemInit}(); \textcolor{comment}{// Most important!}
93 
94     \textcolor{comment}{// LEDs}
95     \hyperlink{group__config_ga86208659221ec2a932cd722dfc18101f}{LED0DDR} |= (1 << \hyperlink{group__config_gab0e1f692e2b1fa1cdbb24a9926b3489d}{LED0PIN});
96     \hyperlink{group__config_gab0f33b52cdb68e643eba6cf583fb625f}{LED1DDR} |= (1 << \hyperlink{group__config_ga04d7aaffbb7b5afaf49acf8a3a39e33a}{LED1PIN});
97     \hyperlink{group__config_ga7e635626ee31b094da0a668476132577}{LED2DDR} |= (1 << \hyperlink{group__config_ga50070e632cb68d11f627c5ab60f88683}{LED2PIN});
98     \hyperlink{group__config_ga09535652dd0ca340b20840c848cb6093}{LED3DDR} |= (1 << \hyperlink{group__config_ga2663b8fc01c4753562adc572cf12a5ed}{LED3PIN});
99     \hyperlink{group__xycontrol_ga783aead7f97dd462a9af56b7fc3b228f}{xyLed}(4, 1);
100 
101     \hyperlink{group__time_ga66bac2517b216a802f8fb2233eccfa66}{initSystemTimer}();
102     \textcolor{keywordflow}{for} (uint8\_t i = 0; i < \hyperlink{group__uart_ga1ea963b291215ad9c5e8a0610f116b90}{serialAvailable}(); i++) \{
103         \hyperlink{group__uart_ga73d4335cb201753c580c87954f493886}{serialInit}(i, \hyperlink{group__uart_gafccfd7d1315f0763ac404c6104883341}{BAUD}(38400, F\_CPU));
104     \}
105     \hyperlink{group__twi_ga1a9c88673ee82a5a84274814f168ea78}{twiInit}();
106     \hyperlink{group__spi_gab16bbe73b15109ae6ca700391711d036}{spiInit}(\hyperlink{group__spi_ggae506139af46f1328f631ddacd54af96da68ae6cc4ed3f27fe8040eb93d9c4efa3}{MODE\_0}, \hyperlink{group__spi_gga92b13fd51af2a9a09b1854520a5a427fa3e1a04cc2aad70558b57122e6b70f8b6}{SPEED\_2});
107     \hyperlink{group__adc_ga658c8b976878603187b79166345319e0}{adcInit}(\hyperlink{group__adc_gga7fc3dc0de11790b4393b4be70d79a02faead1f65bef727ff7542b8139baceae9c}{AVCC});
108 
109     \hyperlink{group__uartmenu_gaba6c962adeaaeca40be02fb1098312ed}{addMenuCommand}(\textcolor{charliteral}{'q'}, \hyperlink{group__xycontrol_ga27915b4caf41f74542980a4ea0f1726a}{resetText}, &\hyperlink{group__xycontrol_ga26f242fc9cc1fb7dfdb78daae5579a63}{xySelfReset});
110     \hyperlink{group__uartmenu_gaba6c962adeaaeca40be02fb1098312ed}{addMenuCommand}(\textcolor{charliteral}{'h'}, \hyperlink{group__xycontrol_gab29cf1c6b0f1a36311899902ec9364ea}{helpText}, &\hyperlink{group__uartmenu_ga82cceeb5e46aa39967600fb62d7716c6}{uartMenuPrintHelp});
111     \hyperlink{group__task_ga9a6ba4cb66e2fb7e3be42fb5b87fec6f}{addTask}(&\hyperlink{group__uartmenu_ga9f477033e942434f7875930342d5e696}{uartMenuTask});
112 
113     \textcolor{comment}{// fdevopen() is using malloc, so printf in a different}
114     \textcolor{comment}{// memory bank will not work!}
115     \textcolor{comment}{//   fdevopen(&uartoutput, NULL); // stdout & stderr}
116     \textcolor{comment}{//   fdevopen(NULL, &uartinput); // stdin}
117     \textcolor{comment}{// Instead we have the FILE structs as static variables}
118     \textcolor{comment}{// and assign them to stdin, stdout and stderr}
119 
120     fdev\_setup\_stream(&\hyperlink{group__xycontrol_gaa9e0cac6f45e381f488c1dd9a8418ca2}{outFile}, &\hyperlink{group__xycontrol_ga7e2be90354ccc3af05947764858bc0b1}{uartoutput}, NULL, \_FDEV\_SETUP\_WRITE);
121     fdev\_setup\_stream(&\hyperlink{group__xycontrol_gaad0ab56da43b41bbfeeaa3d1eca70e9c}{inFile}, NULL, &\hyperlink{group__xycontrol_ga3f158de66529c4606b8d8a380e5a5b07}{uartinput}, \_FDEV\_SETUP\_READ);
122     stdin = &\hyperlink{group__xycontrol_gaad0ab56da43b41bbfeeaa3d1eca70e9c}{inFile};
123     stdout = &\hyperlink{group__xycontrol_gaa9e0cac6f45e381f488c1dd9a8418ca2}{outFile};
124     stderr = &\hyperlink{group__xycontrol_gaa9e0cac6f45e381f488c1dd9a8418ca2}{outFile};
125 
126     sei();
127 \}
\end{DoxyCode}
\hypertarget{group__xycontrol_ga783aead7f97dd462a9af56b7fc3b228f}{\index{xy\-Control Hardware@{xy\-Control Hardware}!xy\-Led@{xy\-Led}}
\index{xy\-Led@{xy\-Led}!xyControl Hardware@{xy\-Control Hardware}}
\subsubsection[{xy\-Led}]{\setlength{\rightskip}{0pt plus 5cm}void xy\-Led (
\begin{DoxyParamCaption}
\item[{{\bf L\-E\-D}}]{l, }
\item[{{\bf L\-E\-D\-State}}]{v}
\end{DoxyParamCaption}
)}}\label{group__xycontrol_ga783aead7f97dd462a9af56b7fc3b228f}


Set the L\-E\-Ds. 


\begin{DoxyParams}{Parameters}
{\em l} & L\-E\-Ds to set \\
\hline
{\em v} & New L\-E\-D State \\
\hline
\end{DoxyParams}
\begin{Desc}
\item[Examples\-: ]\par
\hyperlink{hardware_test_8c-example}{hardware\-Test.\-c}, \hyperlink{test_8c-example}{test.\-c}, and \hyperlink{uart_flight_8c-example}{uart\-Flight.\-c}.\end{Desc}


Referenced by xy\-Init().

\hypertarget{group__xycontrol_ga8b94cac17e75735eec6f6fa42d21ab72}{\index{xy\-Control Hardware@{xy\-Control Hardware}!xy\-Led\-Internal@{xy\-Led\-Internal}}
\index{xy\-Led\-Internal@{xy\-Led\-Internal}!xyControl Hardware@{xy\-Control Hardware}}
\subsubsection[{xy\-Led\-Internal}]{\setlength{\rightskip}{0pt plus 5cm}void xy\-Led\-Internal (
\begin{DoxyParamCaption}
\item[{uint8\-\_\-t}]{v, }
\item[{volatile uint8\-\_\-t $\ast$}]{port, }
\item[{uint8\-\_\-t}]{pin}
\end{DoxyParamCaption}
)}}\label{group__xycontrol_ga8b94cac17e75735eec6f6fa42d21ab72}


Internal L\-E\-D Manipulation function. 


\begin{DoxyParams}{Parameters}
{\em v} & New L\-E\-D State (Off, On, Toggle) \\
\hline
{\em port} & The Corresponding Output Port \\
\hline
{\em pin} & The L\-E\-D Pin \\
\hline
\end{DoxyParams}


Definition at line 134 of file xycontrol.\-c.


\begin{DoxyCode}
134                                                                    \{
135     \textcolor{keywordflow}{if} (v == 0) \{
136         *port &= ~(1 << pin);
137     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (v == 1) \{
138         *port |= (1 << pin);
139     \} \textcolor{keywordflow}{else} \{
140         *port ^= (1 << pin);
141     \}
142 \}
\end{DoxyCode}
\hypertarget{group__xycontrol_ga26f242fc9cc1fb7dfdb78daae5579a63}{\index{xy\-Control Hardware@{xy\-Control Hardware}!xy\-Self\-Reset@{xy\-Self\-Reset}}
\index{xy\-Self\-Reset@{xy\-Self\-Reset}!xyControl Hardware@{xy\-Control Hardware}}
\subsubsection[{xy\-Self\-Reset}]{\setlength{\rightskip}{0pt plus 5cm}void xy\-Self\-Reset (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{group__xycontrol_ga26f242fc9cc1fb7dfdb78daae5579a63}


Use the Watchdog to reset yourself after 15ms. 



Definition at line 179 of file xycontrol.\-c.



Referenced by orientation\-Task(), and xy\-Init().


\begin{DoxyCode}
179                        \{
180     wdt\_enable(WDTO\_15MS);
181     \textcolor{keywordflow}{for}(;;);
182 \}
\end{DoxyCode}


\subsection{Variable Documentation}
\hypertarget{group__xycontrol_gab29cf1c6b0f1a36311899902ec9364ea}{\index{xy\-Control Hardware@{xy\-Control Hardware}!help\-Text@{help\-Text}}
\index{help\-Text@{help\-Text}!xyControl Hardware@{xy\-Control Hardware}}
\subsubsection[{help\-Text}]{\setlength{\rightskip}{0pt plus 5cm}char P\-R\-O\-G\-M\-E\-M help\-Text\mbox{[}$\,$\mbox{]} = \char`\"{}Print this Help\char`\"{}}}\label{group__xycontrol_gab29cf1c6b0f1a36311899902ec9364ea}


U\-A\-R\-T Menu Help Text. 



Definition at line 59 of file xycontrol.\-c.



Referenced by xy\-Init().

\hypertarget{group__xycontrol_gaad0ab56da43b41bbfeeaa3d1eca70e9c}{\index{xy\-Control Hardware@{xy\-Control Hardware}!in\-File@{in\-File}}
\index{in\-File@{in\-File}!xyControl Hardware@{xy\-Control Hardware}}
\subsubsection[{in\-File}]{\setlength{\rightskip}{0pt plus 5cm}F\-I\-L\-E in\-File}}\label{group__xycontrol_gaad0ab56da43b41bbfeeaa3d1eca70e9c}


F\-I\-L\-E for stdin. 



Definition at line 62 of file xycontrol.\-c.



Referenced by xy\-Init().

\hypertarget{group__xycontrol_gaa9e0cac6f45e381f488c1dd9a8418ca2}{\index{xy\-Control Hardware@{xy\-Control Hardware}!out\-File@{out\-File}}
\index{out\-File@{out\-File}!xyControl Hardware@{xy\-Control Hardware}}
\subsubsection[{out\-File}]{\setlength{\rightskip}{0pt plus 5cm}F\-I\-L\-E out\-File}}\label{group__xycontrol_gaa9e0cac6f45e381f488c1dd9a8418ca2}


F\-I\-L\-E for stdout and stderr. 



Definition at line 63 of file xycontrol.\-c.



Referenced by xy\-Init().

\hypertarget{group__xycontrol_ga27915b4caf41f74542980a4ea0f1726a}{\index{xy\-Control Hardware@{xy\-Control Hardware}!reset\-Text@{reset\-Text}}
\index{reset\-Text@{reset\-Text}!xyControl Hardware@{xy\-Control Hardware}}
\subsubsection[{reset\-Text}]{\setlength{\rightskip}{0pt plus 5cm}char P\-R\-O\-G\-M\-E\-M reset\-Text\mbox{[}$\,$\mbox{]} = \char`\"{}Reset M\-C\-U\char`\"{}}}\label{group__xycontrol_ga27915b4caf41f74542980a4ea0f1726a}


U\-A\-R\-T Menu Reset Text. 



Definition at line 60 of file xycontrol.\-c.



Referenced by xy\-Init().

